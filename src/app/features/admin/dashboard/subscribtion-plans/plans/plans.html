<div class="align-left">
  <button class="add-btn" (click)="toggleAddModal()">+ إضافة باقة جديدة</button>
</div>

@if (plans.length > 0) {
  <div class="plans-grid">
    @for (plan of plans; track plan.id) {
      <app-plan-card
        [plan]="plan"
        (edit)="editPlan(plan)"
        (delete)="deletePlan(plan)"
      ></app-plan-card>
    }
  </div>
} @else {
  <div class="no-plans">
    <i class="fa-solid fa-box-open"></i>
    <h3>لا توجد باقات</h3>
    <p>قم بإضافة باقة جديدة للبدء</p>
  </div>
}
@if (openAddModalBool) {
  <app-add-plan (close)="toggleAddModal()" (added)="loadPlans()"></app-add-plan>
}
@if (openEditModalBool) {
  <app-add-plan
    [mode]="'edit'"
    [plan]="selectedEditPlan"
    (close)="toggleEditModal()"
    (added)="loadPlans()"
  ></app-add-plan>
}
@if (openDeleteModalBool) {
  <app-delete-plan
    [planName]="selectedDeletePlan.nameAr"
    (confirm)="confirmDelete()"
    (cancel)="toggledeleteModal()"
  ></app-delete-plan>
}
