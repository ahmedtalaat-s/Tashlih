<div class="body">
  <div class="modal-overlay" (click)="onClose()">
    <div class="modal-container" (click)="$event.stopPropagation()">
      <h2 class="modal-title">
        @if (mode === 'add') {
          إضافة موديل جديد
        } @else {
          تعديل الموديل
        }
      </h2>

      <form [formGroup]="modelForm" (ngSubmit)="onSubmit()">
        <!-- Arabic Name -->
        <div class="form-group">
          <label>اسم الموديل (بالعربي)</label>
          <input type="text" formControlName="nameAr" placeholder="ادخل اسم الموديل بالعربي" />

          @if (f['nameAr'].touched && f['nameAr'].errors?.['required']) {
            <small class="error">الاسم بالعربي مطلوب</small>
          }
        </div>

        <!-- English Name -->
        <div class="form-group" dir="ltr">
          <label style="text-align: left; display: block"> Model Name (English) </label>

          <input type="text" formControlName="nameEn" placeholder="Enter model name in English" />

          @if (f['nameEn'].touched && f['nameEn'].errors?.['required']) {
            <small class="error">English name is required</small>
          }
        </div>

        <!-- Make Select -->
        <div class="form-group">
          <label>الشركة المصنّعة</label>

          <select formControlName="makeId" class="form-select">
            <option value="" disabled>اختر الشركة المصنّعة</option>

            @for (make of makes; track make.id) {
              <option [value]="make.id">
                {{ make.nameAr }}
              </option>
            }
          </select>

          @if (f['makeId'].touched && f['makeId'].errors?.['required']) {
            <small class="error">يجب اختيار شركة مصنّعة</small>
          }
        </div>

        <!-- Buttons -->
        <div class="button-group">
          <button type="submit" class="btn-submit">
            @if (mode === 'add') {
              إضافة
            } @else {
              حفظ التعديلات
            }
          </button>

          <button type="button" class="btn-cancel" (click)="onClose()">إلغاء</button>
        </div>
      </form>
    </div>
  </div>
</div>
